<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="theme-color" content="#ff6b6b">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Noor's Games">
    <title>Zaklamp</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üî¶</text></svg>">
    <link rel="manifest" href="../manifest.json">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { touch-action: manipulation; -webkit-touch-callout: none; -webkit-user-select: none; user-select: none; overscroll-behavior: none; }
        body { min-height: 100vh; background: #000; font-family: 'Nunito', sans-serif; display: flex; justify-content: center; padding: 15px; overflow: hidden; }
        .game-container { background: #000; border-radius: 40px; padding: 20px; max-width: 500px; width: 100%; text-align: center; position: relative; height: 100vh; box-sizing: border-box; }
        .back-btn { position: absolute; top: 15px; left: 15px; background: #ff9a8b; color: white; text-decoration: none; padding: 8px 15px; border-radius: 15px; font-family: 'Fredoka One', cursive; font-size: 0.9rem; z-index: 100; }
        h1 { font-family: 'Fredoka One', cursive; color: #e63946; font-size: 1.6rem; margin-bottom: 10px; text-shadow: 2px 2px 0 #ffd5d5; }
        .forest { position: relative; width: 100%; height: calc(100vh - 120px); background: #0a0a15; border-radius: 25px; overflow: hidden; margin-bottom: 15px; }
        .tree { position: absolute; font-size: 4rem; bottom: 20px; opacity: 0.1; }
        .eyes { position: absolute; font-size: 2rem; cursor: pointer; transition: all 0.3s; opacity: 0; }
        .eyes.revealed { opacity: 1; animation: glow 1s ease infinite; }
        @keyframes glow { 0%, 100% { text-shadow: 0 0 10px currentColor; } 50% { text-shadow: 0 0 30px currentColor; } }
        .flashlight { position: fixed; width: 150px; height: 150px; border-radius: 50%; background: radial-gradient(circle, rgba(255,255,200,0.8) 0%, rgba(255,255,200,0) 70%); pointer-events: none; transform: translate(-50%, -50%); z-index: 50; display: none; }
        .flashlight.on { display: block; }
        .message { font-size: 1rem; color: #aaa; font-weight: 600; padding: 10px 15px; background: #222; border-radius: 15px; }
        .instructions { font-size: 0.9rem; color: #666; margin-top: 8px; }
    </style>
</head>
<body>
    <a href="../index.html" class="back-btn">üè† Terug</a>
    <div class="game-container">
        <h1 style="color: #ffd700;">üî¶ Zaklamp</h1>
        <div class="forest" id="forest"></div>
        <div class="message" id="message">Schijn met je zaklamp in het donkere bos!</div>
        <div class="instructions">Vind alle dieren die zich verstoppen!</div>
    </div>
    <div class="flashlight" id="flashlight"></div>
    
    <script>
        const forest = document.getElementById('forest');
        const flashlight = document.getElementById('flashlight');
        const message = document.getElementById('message');
        
        const animals = [
            { emoji: 'ü¶ä', name: 'vos', color: '#ff6b00' },
            { emoji: 'ü¶å', name: 'hert', color: '#8B4513' },
            { emoji: 'ü¶â', name: 'uil', color: '#DAA520' },
            { emoji: 'üê∞', name: 'konijn', color: '#D3D3D3' },
            { emoji: 'ü¶ù', name: 'wasbeer', color: '#696969' },
            { emoji: 'üêª', name: 'beer', color: '#8B4513' },
            { emoji: 'üê∫', name: 'wolf', color: '#A9A9A9' },
            { emoji: 'ü¶î', name: 'egel', color: '#8B7355' }
        ];
        
        let found = 0;
        
        for (let i = 0; i < 30; i++) {
            const tree = document.createElement('div');
            tree.className = 'tree';
            tree.textContent = 'üå≤';
            tree.style.left = Math.random() * 90 + '%';
            tree.style.bottom = Math.random() * 30 + '%';
            tree.style.fontSize = (2 + Math.random() * 3) + 'rem';
            forest.appendChild(tree);
        }
        
        animals.forEach(animal => {
            const eyes = document.createElement('div');
            eyes.className = 'eyes';
            eyes.textContent = 'üëÄ';
            eyes.style.left = Math.random() * 80 + 5 + '%';
            eyes.style.top = Math.random() * 60 + 20 + '%';
            eyes.style.color = animal.color;
            eyes.dataset.found = 'false';
            
            eyes.onclick = () => {
                if (eyes.dataset.found === 'false') {
                    eyes.dataset.found = 'true';
                    eyes.textContent = animal.emoji;
                    eyes.classList.add('revealed');
                    found++;
                    message.textContent = `Je zag een ${animal.name}! ${found}/${animals.length} gevonden`;
                    
                    if (found >= animals.length) {
                        message.textContent = 'Je vond alle dieren! ‚≠ê';
                    }
                }
            };
            
            forest.appendChild(eyes);
        });
        
        document.addEventListener('mousemove', (e) => {
            flashlight.classList.add('on');
            flashlight.style.left = e.clientX + 'px';
            flashlight.style.top = e.clientY + 'px';
            
            checkFlashlight(e.clientX, e.clientY);
        });
        
        document.addEventListener('touchmove', (e) => {
            e.preventDefault();
            const touch = e.touches[0];
            flashlight.classList.add('on');
            flashlight.style.left = touch.clientX + 'px';
            flashlight.style.top = touch.clientY + 'px';
            
            checkFlashlight(touch.clientX, touch.clientY);
        });
        
        function checkFlashlight(x, y) {
            document.querySelectorAll('.eyes:not(.revealed)').forEach(eyes => {
                const rect = eyes.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                const dist = Math.sqrt((x - centerX) ** 2 + (y - centerY) ** 2);
                
                if (dist < 80) {
                    eyes.style.opacity = 0.3;
                } else {
                    eyes.style.opacity = 0;
                }
            });
        }
    </script>
</body>
</html>
